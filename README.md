# Greedy Snake Battle

![Greedy Snake Battle LOGO](./picture/greedy_snake_battle_logo.jpg)

## Table of Contents

- [Project Overview](#project-overview)
- [Project License](#project-license)
- [Signature Verification](#signature-verification)
- [Game Features](#game-features)
- [Game Controls](#game-controls)
- [Game Elements](#game-elements)
- [Game Flow](#game-flow)
- [Offline Mode](#offline-mode)
- [Game Interface](#game-interface)
- [Build & Installation](#build--installation)
- [Cross-Platform Support](#cross-platform-support)
- [Known Issues](#known-issues)
- [Future Plans](#future-plans)
- [Code Style Summary & Contribution Guidelines](#code-style-summary--contribution-guidelines)

---
## Project Overview

This is a cross-platform snake battle game implemented in C, featuring rich configuration options and complete game functionality. The project adopts a modular design and supports multiple operating systems.  

Author: Zhang Zhiyu  
License: MIT License: [LICENSE.txt](./LICENSE.txt)  
Contributions, suggestions, and issues are welcome.

## Project License

### MIT License

**MIT License**.

### Authorization Scope

- **Free Authorization**: Anyone who obtains a copy of this software and its associated documentation files ("Software") can use it for free.

- **Usage Rights**: Licensees are free to handle the software, including but not limited to using, copying, modifying, merging, publishing, distributing, sublicensing, and selling copies of the software.

### Conditions

- **Retain Copyright and License Notices**: All copies or significant portions of the software must include the above copyright and license notices.

### Disclaimer

- **No Warranty**: The software is provided "as is," without any warranty, express or implied, including but not limited to warranties of merchantability, fitness for a particular purpose, and non-infringement.

- **No Liability**: Under no circumstances shall the authors or copyright holders be liable for any claims, damages, or other liabilities arising from the software or its use.

### View License

MIT License: [LICENSE.txt](./LICENSE.txt)

---
## Signature Verification

### Prerequisites

Required: GPG: GPG Official Website: [https://gnupg.org](https://gnupg.org)  
Windows Version (GPG4Win): [https://gpg4win.org](https://gpg4win.org)  

#### **Install GPG**

##### **Windows**
1. Download and install [GPG4Win](https://gpg4win.org/download.html).
2. Ensure **"GPG (GnuPG) Command Line"** is selected during installation to make `gpg.exe` available.

##### **Linux/macOS**

- Linux
    ```bash
    sudo (package manager) install gnupg
    ```
    Replace `(package manager)` with your system's package manager (e.g., `apt` for Ubuntu/Debian).
- macOS
    ```shell
    brew install gnupg
    ```

### 1. Import Public Key (located in the project root directory):

```bash
gpg --import ./signatures/PublicKey/GreedySnakeBattle_PublicKey.asc
```

### 2. Verify Signatures:

- Single File Verification (using README.md as an example)
    ```bash
    gpg --verify signatures/README.md.asc README.md
    ```
- Batch Verification
    - Source Files (Unix-Like)
        ```bash
        find source/ -type f \( -name "*.c" -o -name "*.h" \) -exec sh -c 'gpg --verify signatures/$(basename {}).asc {}' \;
        ```
    - README.md Verification
        ```bash
        gpg --verify signatures/README.md.asc README.md
        ```
    - LICENSE.txt Verification
        ```bash
        gpg --verify signatures/LICENSE.txt.asc LICENSE.txt
        ```
- Expected Output
    1. `Good signature from "Zhang Zhiyu (A C And Cpp Development Designer) <2585689367@qq.com>` indicates the file and signature are untampered.
        ```txt
        gpg: Signature made 20XX-XX-XX XX:XX:XX +0800 CST
        gpg:                using RSA key CAD77FD957132D24B9B75D1AFFAB5EB03E8460D0
        gpg: Good signature from "Zhang Zhiyu (A C And Cpp Development Designer) <2585689367@qq.com>" [ultimate]
        ```
    
    2. `BAD signature from "Zhang Zhiyu (A C And Cpp Development Designer) <2585689367@qq.com>` indicates **the file or signature has been tampered with**.  
        **It is not recommended to use these files as they may pose unknown risks!**
        ```txt
        gpg: Signature made 20XX-XX-XX XX:XX:XX +0800 CST
        gpg:                using RSA key CAD77FD957132D24B9B75D1AFFAB5EB03E8460D0
        gpg: BAD signature from "Zhang Zhiyu (A C And Cpp Development Designer) <2585689367@qq.com>" [ultimate]
        ```

---
### Automated Verification Scripts

#### Windows

Save the following script as `verify_all.ps1` in the project root directory and run it:
```powershell
# Import public key (if not already imported)
$publicKey = ".\signatures\PublicKey\GreedySnakeBattle_PublicKey.asc"
gpg --import $publicKey

# Verify source files
Get-ChildItem -Path .\source -Recurse -Include *.c, *.h | ForEach-Object {
    $sigFile = ".\signatures\" + $_.Name + ".asc"
    if (Test-Path $sigFile) {
        Write-Host "Verifying file: $($_.FullName)"
        gpg --verify $sigFile $_.FullName
        
        # Error check
        if ($LASTEXITCODE -ne 0) {
            Write-Host "Error: $($_.FullName) verification failed!" -ForegroundColor Red
            exit 1
        }
    }
}

# Verify README.md and LICENSE.txt
gpg --verify .\signatures\README.md.asc .\README.md
gpg --verify .\signatures\LICENSE.txt.asc .\LICENSE.txt

Write-Host "Verification complete! Check for 'BAD signature' outputs." -ForegroundColor Green
```

Run PowerShell as administrator and execute:
```powershell
Set-ExecutionPolicy RemoteSigned -Scope Process  # Allow script execution
```
```powershell
.\verify_all.ps1
```

#### Linux/macOS

##### **1. Script Content**  

Save the following code as `verify_signatures.sh` in the project root directory:  
```bash
#!/bin/bash

# ------------------------------------------
# GreedySnakeBattle Signature Verification Script (Linux/macOS)
# Function: Automatically verify GPG signatures for all .c/.h/README.md/LICENSE.txt files
# Usage: ./verify_signatures.sh
# ------------------------------------------

# Check if GPG is installed
if ! command -v gpg &> /dev/null; then
    echo "‚ùå Error: GPG is not installed! Please install it first:"
    echo "  - Debian/Ubuntu: sudo apt install gnupg"
    echo "  - macOS: brew install gnupg"
    exit 1
fi

# Define signature directory and public key path
SIGNATURES_DIR="./signatures"
PUBLIC_KEY="$SIGNATURES_DIR/PublicKey/GreedySnakeBattle_PublicKey.asc"

# Check if the signature directory exists
if [ ! -d "$SIGNATURES_DIR" ]; then
    echo "‚ùå Error: Signature directory $SIGNATURES_DIR does not exist!"
    exit 1
fi

# Check if the public key exists
if [ ! -f "$PUBLIC_KEY" ]; then
    echo "‚ùå Error: Public key file $PUBLIC_KEY not found!"
    exit 1
fi

# Import public key
echo "üîë Importing public key..."
gpg --import "$PUBLIC_KEY" 2> /dev/null
if [ $? -ne 0 ]; then
    echo "‚ùå Error: Public key import failed!"
    exit 1
fi

# Verify all source files (.c and .h)
echo "üîç Verifying source files..."
FAILED=0
for file in $(find ./source -type f \( -name "*.c" -o -name "*.h" \)); do
    sig_file="$SIGNATURES_DIR/$(basename $file).asc"
    if [ -f "$sig_file" ]; then
        echo "üìÑ Verifying: $file"
        gpg --verify "$sig_file" "$file" 2> /dev/null
        if [ $? -ne 0 ]; then
            echo "‚ùå Verification failed: $file"
            FAILED=1
        fi
    else
        echo "‚ö†Ô∏è Warning: Signature file not found: $sig_file"
    fi
done

# Verify README.md and LICENSE.txt
echo "üìú Verifying document files..."
for file in "README.md" "LICENSE.txt"; do
    sig_file="$SIGNATURES_DIR/$file.asc"
    if [ -f "$sig_file" ]; then
        echo "üìÑ Verifying: $file"
        gpg --verify "$sig_file" "$file" 2> /dev/null
        if [ $? -ne 0 ]; then
            echo "‚ùå Verification failed: $file"
            FAILED=1
        fi
    else
        echo "‚ö†Ô∏è Warning: Signature file not found: $sig_file"
    fi
done

# Final result
if [ $FAILED -eq 0 ]; then
    echo "‚úÖ All files verified successfully!"
else
    echo "‚ùå Some files failed verification. Please check the logs!"
    exit 1
fi
```

##### **2. Usage**

1. **Grant execution permissions**:  
   ```bash
   chmod +x verify_signatures.sh
   ```

2. **Run the script**:  
   ```bash
   ./verify_signatures.sh
   ```

3. **Expected Output**:  
   - If all files pass verification:  
     ```txt
     ‚úÖ All files verified successfully!
     ```
   - If some files fail verification:  
     ```txt
     ‚ùå Verification failed: ./source/main.c
     ‚ùå Some files failed verification. Please check the logs!
     ```

##### **3. Script Features**

‚úÖ **Cross-platform compatibility**: Supports **Linux** and **macOS** (requires `gnupg`).  
‚úÖ **Automatic dependency check**: Prompts the user to install GPG if not found.  
‚úÖ **Batch verification**: Automatically scans all `.c` and `.h` files in `./source/`.  
‚úÖ **Error handling**:  
   - Warns if a signature file is missing (`‚ö†Ô∏è`).  
   - Marks failures (`‚ùå`) and exits if signatures do not match.  

---
## Game Features

- Classic snake game mechanics
- Customizable game settings
- Cross-platform support (Windows/Linux/macOS/Termux)
- Blocking and non-blocking operation modes
- Comprehensive API interface
- Detailed documentation

## Game Controls

![Game in Progress](./picture/game_running.jpg)  
| Key | Function |
| :--: | :--: |
| W | Move Up |
| A | Move Left |
| S | Move Down |
| D | Move Right |
| E | Exit Game Immediately |
| O | Exit Current Match |

## Game Elements

![Game Introduction](./picture/introduction.jpg)
| Symbol | Element |
|------|----------|
| @ | Snake Head |
| * | Snake Body |
| # | Food |
| + | Wall |
| $ | Victory Point |

## Game Flow

- 1. **Client Resource Loading** (Can be retained if modifying and recompiling the source code)  
   ![Client Resource Loading Screen](./picture/client_resource_loading.jpg)  
- 2. **First-Time Login Screen** (Only displayed on the first run; can be retained if modifying and recompiling the source code)  
   ![First-Time Loading Screen](./picture/first_login_loading.jpg)  

- 3. **Main Menu**

   ![Main Menu](./picture/menu.jpg)

   | Option | Function |
   | :--: | :--: |
   | 1 | Start Game |
   | 2 | Game Instructions |
   | 3 | Game Settings |
   | 4 | Exit Game |

- 4. **Game Settings**

   ![Settings Screen](./picture/set_game.jpg)

   Configurable options include:
   - Whether the game ends if the snake bites itself
   - Snake movement speed
   - Points required for victory
   - Number of food items
   - Number of walls
   - Whether to enable system-controlled snakes
   - Game screen size
   - Game background color
   - Restore all default settings, etc.

- 5. **Gameplay Screen**

   ![Gameplay Screen](./picture/game_running.jpg)

- 6. **Game Over** (Victory or Defeat)

---
## Offline Mode

When the configuration file cannot be opened, the game automatically enters offline mode:

- **Features**:
    - Does not read the configuration file
    - Uses built-in default settings
    - Changes to settings are not saved
    - Settings revert to defaults after the game ends

- **Notes**:
    - Settings can be adjusted in offline mode but will not be saved
    - It is not recommended to modify settings in offline mode
    - Once enabled, offline mode cannot be disabled until the game ends

---
## Game Interface

> Skip this section if you are not a *developer* or do not need to review the game interface.

The game provides a standardized external interface function `GreedySnakeBattleGameExternalInterface`, defined in [GreedySnakeBattleGameExternalInterface.h](./source/Include/GreedySnakeBattleGameExternalInterface.h).

### Linking Options

| Type | Library Name | Linking Command |
| :--: | :----: | :------: |
| Static Library | libgsnakebg.a | `gcc ... -lgsnakebg` |
| Dynamic Library | libgsnakebg.so | `gcc ... -lgsnakebg` |

### Function Prototype

```c
#include <GreedySnakeBattleGameExternalInterface.h>

    int GreedySnakeBattleGameExternalInterface(int isBlockRunning);
```

### Parameters

`isBlockRunning`: Whether the game blocks the calling process.  
    | Macro (Global Constant) | Behavior |
    | :----: | :-----: |
    | SNAKE_BLOCK | Blocking operation |
    | SNAKE_UNBLOCK | Non-blocking operation |

### Return Values

| Return Value | Description |
| :----: | :--: |
| -2 | Invalid parameter |
| -1 | System call failed |
| 0 | Game ended (blocking mode) |
| 1 | Game started successfully (non-blocking mode) |

### Example

```c
#include "GreedySnakeBattleGameExternalInterface.h"

int main() {
    int ret = GreedySnakeBattleGameExternalInterface(SNAKE_BLOCK);
    
    switch (ret) {
        case -2:
            printf("Invalid parameter!\n");
            break;
        case -1:
            printf("Failed to start the game!\n");
            break;
        case 0:
            printf("Game over.\n");
            break;
        case 1:
            printf("Game running in the background.\n");
            break;
    }
    
    return 0;
}
```

### Code Standards

| Item | Standard |
| :--: | :--: |
| Programming Language | C Language - C99 (ISO/IEC 9899:1999) |
| Unix-like Systems | POSIX.1-2008 |
| Windows Systems | Win32 API |

---
## Build & Installation

### Build Requirements

- CMake 3.10+
- C Compiler (GCC/Clang/MSVC)
- Doxygen (for documentation generation) (optional)

### Build Steps

- 1. Create and enter the build directory (to keep the root directory clean)
```bash
mkdir build # Create build directory
```
```bash
cd build    # Enter build directory
```

- 2. Run CMake
```bash
cmake ..    # Run CMake
```

- 3. Run Make
    - 1. Compile source files  
         ```bash
         make                        # Compile source files
         ```
         Generates the GreedySnakeBattle(.exe) executable, libgsnakebg.so dynamic library, and libgsnakebg.a static library.
    
    - 2. Generate API documentation
         - 1. With Doxygen installed
              ```bash
              make API_documents     # Generate API documentation
              ```
         - 2. Without Doxygen
              ```bash
              mv ../pre_generated_API_documents ../API_documents # Rename ../pre_generated_API_documents to ../API_documents
              ```

    - 3. Install
         ```bash
         sudo make install           # Install (requires admin rights) (Termux does not require admin rights)
         ```

### Installation Contents

1. **Executable**: `GreedySnakeBattle` (`GreedySnakeBattle.exe` on Windows)
2. **Libraries**:
   - Static Library: `libgsnakebg.a`
   - Dynamic Library: `libgsnakebg.so` (`libgsnakebg.dll` on Windows)
3. **Header Files**: All header files in the `Include/` directory
4. **API Documentation**: HTML-formatted API documentation

---
## Cross-Platform Support

The game supports the following platforms:

1. **Windows**:
    - Automatically creates a desktop shortcut
    - Sets the application icon
    - Uses Win32 API for terminal control

2. **Linux**:
    - Standard Unix installation paths
    - Creates a .desktop desktop shortcut
    - Uses termios for terminal control

3. **Termux (Android)**:
    - Special installation path adaptation
    - Optimized for mobile terminals

4. **macOS**:
    - Standard Unix installation paths
    - Uses termios for terminal control

---
## Known Issues

1. **Performance Issues**:
    - The game may lag when the snake grows very large.

2. **Functional Limitations**:
    - Obstacle snakes cannot automatically avoid user snakes and walls.
    - Logic for user snakes eating obstacle snake bodies is not precise.

For a detailed list of issues, see the BUGs section in [GreedySnakeBattleGameExternalInterface.c](./source/GreedySnakeBattleGameExternalInterface.c).

## Future Plans

1. **New Features**:
    - Add portals.
    - Infinite food mode.

2. **Improvements**:
    - Optimize obstacle snake AI.
    - Improve snake body rendering logic.

For detailed plans, see the TODOs section in [GreedySnakeBattleGameExternalInterface.c](./source/GreedySnakeBattleGameExternalInterface.c).

## Code Style Summary & Contribution Guidelines

Based on the project, the following **comment style**, **naming conventions**, and **code style** are summarized for contributors.  

### **1. Comment Style (Javadoc Style)**  
The code primarily uses **Doxygen/Javadoc-style comments** for API documentation generation.  

#### **Rules**:

‚úÖ **File Comments** (at the beginning of the file):  
```c
/**
 * @file GreedySnakeBattleGameExternalInterface.c
 * @brief This file implements the @ref GreedySnakeBattleGameExternalInterface function.
 * @author Zhang Zhiyu
 */
```

‚úÖ **Function Comments** (detailed description of function purpose, parameters, and return value):  
```c
/**
 * @brief Initialize terminal settings
 * @ingroup OSAdapt
 * 
 * Save the original terminal mode and enable ANSI escape code support.
 */
static void _windows_init_console() {
    // ...
}
```

‚úÖ **Struct/Enum Comments**:  
```c
/**
 * @struct GameAllRunningData
 * @brief Stores all runtime data for the game.
 */
typedef struct {
    int score;  /**< Current score */
    // ...
} GameAllRunningData;
```

‚ùå **Avoid**:
- Single-line comments `//` should only be used for temporary debugging; use `/** */` or `/* */` in formal code.  
- Meaningless comments like `// This is a variable`.  

#### **Contributor Notes**:
- **New functions/files** must include complete Doxygen comments.  
- **Modify functions** by updating the corresponding `@brief` and `@param` descriptions.  
- **Critical logic** should include `@note` or `@attention` for special cases.  

---
### **2. Naming Conventions (Qt Style)**

Adopts a **Qt-like naming style** with minor adjustments:  

#### **Rules**:
| Type | Naming Style | Example |
| :--: | :------: | :--: |
| **Functions** | Snake case (`snake_case`) for OS-adaptation functions and special function groups; otherwise, lowerCamelCase | `init_terminal_settings()`, `setConfig_isEnableObs`, `foodInit` |
| **Variables** | `lowerCamelCase` | `gameScore` |
| **Structs** | Struct name: `UpperCamelCase`; member variables: `lowerCamelCase` | `GameConfig`, `isEnableObs` |
| **Macros/Enums/Global Constants** | `UPPER_CASE` | `SNAKE_BLOCK`, `ENABLE_ECHO_INPUT` |
| **Global Variables** | `lowerCamelCase` | `isConfigFileOpenFail` |
| **Type Definitions** | `PascalCase` + `_t` (optional) | `GameAllRunningData`, `muint_t` |

#### **Contributor Notes**:
- **New variables/functions/...** should follow the above naming conventions.
- **Avoid** Hungarian notation (e.g., `bIsRunning`, `iCount`).  
- **Macros** must be in uppercase, e.g., `#define MAX_SNAKE_LENGTH 100`.  

---
### **3. Code Style (Qt Style)**  
The code style resembles **Qt/C++** but adapts to C language limitations.  

#### **Rules**:
‚úÖ **Indentation**:
- **4-space indentation** (no tabs).  
- Function bodies and `if/for/while` blocks must be indented.  

‚úÖ **Braces `{}`**:
- **K&R style** (opening brace on the same line):  
```c
if (condition) {
    // code
}
```

‚úÖ **Spacing**:
- Spaces around operators:  
```c
int sum = a + b;
if (score > 100) { ... }
```
- Space after commas in function parameters:  
```c
void foo(int a, int b, int c);
```

‚úÖ **Pointer `*` Placement**:  
```c
GameAllRunningData *data = malloc(sizeof(GameAllRunningData));
```

‚ùå **Avoid**:
- Multiple statements per line, e.g., `a=1; b=2;`.  
- Excessively long lines (recommended to wrap at 80~120 characters).  

#### **Contributor Notes**:
- **New code** must follow existing indentation and brace styles.  
- **Modify code** consistently; do not mix `if (x){` and `if (x) {`.  
- **Complex logic** should be split into smaller functions to avoid overly long functions.  

---
### **Summary: Rules for Contributors**  
| Item | Rule |
| :--: | :--: |
| **Comments** | Doxygen/Javadoc style; mandatory for functions, files, and critical variables |
| **Naming** | As above |
| **Code Style** | 4-space indentation, K&R braces, pointer `*` adjacent to variable name |

### **How to Check?**  
1. **Clang-Format** (configured via `.clang-format` file).  
2. **Doxygen** to generate documentation and check comment completeness.  
3. **Code review** for naming and style consistency.  

Contributors are encouraged to maintain code style uniformity for better maintainability! üöÄ

# Ë¥™ÂêÉËõáÂ§ß‰ΩúÊàò

![Ë¥™ÂêÉËõáÂ§ß‰ΩúÊàòLOGO](./picture/greedy_snake_battle_logo.jpg)

## ÁõÆÂΩï

- [È°πÁõÆÊ¶ÇËø∞](#È°πÁõÆÊ¶ÇËø∞)
- [È°πÁõÆËÆ∏ÂèØËØÅ](#È°πÁõÆËÆ∏ÂèØËØÅ)
- [Á≠æÂêçÈ™åËØÅ](#Á≠æÂêçÈ™åËØÅ)
- [Ê∏∏ÊàèÁâπÁÇπ](#Ê∏∏ÊàèÁâπÁÇπ)
- [Ê∏∏ÊàèÊéßÂà∂](#Ê∏∏ÊàèÊéßÂà∂)
- [Ê∏∏ÊàèÂÖÉÁ¥†](#Ê∏∏ÊàèÂÖÉÁ¥†)
- [Ê∏∏ÊàèÊµÅÁ®ã](#Ê∏∏ÊàèÊµÅÁ®ã)
- [Á¶ªÁ∫øÊ®°Âºè](#Á¶ªÁ∫øÊ®°Âºè)
- [Ê∏∏ÊàèÊé•Âè£](#Ê∏∏ÊàèÊé•Âè£)
- [ÊûÑÂª∫‰∏éÂÆâË£Ö](#ÊûÑÂª∫‰∏éÂÆâË£Ö)
- [Ë∑®Âπ≥Âè∞ÊîØÊåÅ](#Ë∑®Âπ≥Âè∞ÊîØÊåÅ)
- [Â∑≤Áü•ÈóÆÈ¢ò](#Â∑≤Áü•ÈóÆÈ¢ò)
- [Êú™Êù•ËÆ°Âàí](#Êú™Êù•ËÆ°Âàí)
- [‰ª£Á†ÅÈ£éÊ†ºÊÄªÁªì‰∏éË¥°ÁåÆÊåáÂçó](#‰ª£Á†ÅÈ£éÊ†ºÊÄªÁªì‰∏éË¥°ÁåÆÊåáÂçó)

---
## È°πÁõÆÊ¶ÇËø∞

ËøôÊòØ‰∏Ä‰∏™Áî®CËØ≠Ë®ÄÂÆûÁé∞ÁöÑË∑®Âπ≥Âè∞Ë¥™ÂêÉËõáÂØπÊàòÊ∏∏ÊàèÔºåÂÖ∑Êúâ‰∏∞ÂØåÁöÑÈÖçÁΩÆÈÄâÈ°πÂíåÂÆåÊï¥ÁöÑÊ∏∏ÊàèÂäüËÉΩ„ÄÇÈ°πÁõÆÈááÁî®Ê®°ÂùóÂåñËÆæËÆ°ÔºåÊîØÊåÅÂ§öÁßçÊìç‰ΩúÁ≥ªÁªüÂπ≥Âè∞„ÄÇ  
  
‰ΩúËÄÖ: Âº†ÂøóÂÆá  
ËÆ∏ÂèØËØÅ: MITËÆ∏ÂèØËØÅ: [LICENSE.txt](./LICENSE.txt)  
Ê¨¢ËøéÊèê‰∫§‰øÆÊîπÔºåÂª∫ËÆÆÂíåIssues„ÄÇ

## È°πÁõÆËÆ∏ÂèØËØÅ

### MITËÆ∏ÂèØËØÅ

**È∫ªÁúÅÁêÜÂ∑•Â≠¶Èô¢ËÆ∏ÂèØËØÅ**ÔºàMIT License)„ÄÇ

### ‚ÄãÊéàÊùÉËåÉÂõ¥

- **‚ÄãÂÖçË¥πÊéàÊùÉ**‚ÄãÔºö‰ªª‰Ωï‰∫∫Ëé∑ÂæóËØ•ËΩØ‰ª∂ÂèäÂÖ∂Áõ∏ÂÖ≥ÊñáÊ°£Êñá‰ª∂Ôºà‚ÄúËΩØ‰ª∂‚ÄùÔºâÁöÑÂâØÊú¨ÂêéÔºåÈÉΩÂèØ‰ª•ÂÖçË¥π‰ΩøÁî®„ÄÇ

- **‚Äã‰ΩøÁî®ÊùÉÈôê**‚ÄãÔºöË¢´ÊéàÊùÉ‰∫∫ÂèØ‰ª•‰∏çÂèóÈôêÂà∂Âú∞Â§ÑÁêÜËØ•ËΩØ‰ª∂ÔºåÂåÖÊã¨‰ΩÜ‰∏çÈôê‰∫é‰ΩøÁî®„ÄÅÂ§çÂà∂„ÄÅ‰øÆÊîπ„ÄÅÂêàÂπ∂„ÄÅÂèëÂ∏É„ÄÅÂàÜÂèë„ÄÅÂÜçÊéàÊùÉ‰ª•ÂèäÈîÄÂîÆËΩØ‰ª∂ÂâØÊú¨„ÄÇ

### ‚ÄãÊù°‰ª∂ÈôêÂà∂

- **‚Äã‰øùÁïôÁâàÊùÉÂ£∞ÊòéÂíåËÆ∏ÂèØÂ£∞Êòé**‚ÄãÔºöÂú®ËΩØ‰ª∂ÁöÑÊâÄÊúâÂâØÊú¨ÊàñÈáçË¶ÅÈÉ®ÂàÜ‰∏≠ÔºåÂøÖÈ°ªÂåÖÂê´‰∏äËø∞ÁâàÊùÉÂ£∞ÊòéÂíåËÆ∏ÂèØÂ£∞Êòé„ÄÇ

### ‚ÄãÂÖçË¥£Â£∞Êòé

- **‚ÄãÊó†‰øùËØÅ**‚ÄãÔºöËØ•ËΩØ‰ª∂ÊòØ‚ÄúÊåâÂéüÊ†∑‚ÄùÊèê‰æõÁöÑÔºåÊ≤°Êúâ‰ªª‰ΩïÂΩ¢ÂºèÁöÑ‰øùËØÅÔºåÊó†ËÆ∫ÊòØÊòéÁ§∫ËøòÊòØÊöóÁ§∫ÔºåÂåÖÊã¨‰ΩÜ‰∏çÈôê‰∫éÂØπÈÄÇÈîÄÊÄß„ÄÅÁâπÂÆöÁî®ÈÄîÁöÑÈÄÇÁî®ÊÄß‰ª•Âèä‰∏ç‰æµÊùÉÁöÑ‰øùËØÅ„ÄÇ

- **‚ÄãÊó†Ë¥£‰ªª**‚ÄãÔºöÊó†ËÆ∫ÊòØÂú®ÂêàÂêåË°å‰∏∫„ÄÅ‰æµÊùÉË°å‰∏∫ËøòÊòØÂÖ∂‰ªñ‰ªª‰ΩïÊÉÖÂÜµ‰∏ãÔºåËΩØ‰ª∂ÁöÑ‰ΩúËÄÖÊàñÁâàÊùÉÊåÅÊúâ‰∫∫ÈÉΩ‰∏çÂØπÂõ†ËΩØ‰ª∂ÊàñÂÖ∂‰ΩøÁî®ËÄå‰∫ßÁîüÁöÑ‰ªª‰ΩïÁ¥¢Ëµî„ÄÅÊçüÂÆ≥ÊàñÂÖ∂‰ªñË¥£‰ªªË¥üË¥£„ÄÇ‚Äã

### Êü•ÁúãËÆ∏ÂèØËØÅ

MITËÆ∏ÂèØËØÅÔºö[LICENSE.txt](./LICENSE.txt)

---
## Á≠æÂêçÈ™åËØÅ

### È¢ÑÂ§á

ÈúÄË¶ÅÔºöGPGÔºöGPGÂÆòÁΩëÔºö[https://gnupg.org](https://gnupg.org)  
WindowsÁâàÊú¨(GPG4Win) [https://gpg4win.org](https://gpg4win.org)  

#### **ÂÆâË£ÖGPG**

##### **Windows**
1. ‰∏ãËΩΩÂÆâË£Ö [GPG4Win](https://gpg4win.org/download.html)„ÄÇ
2. ÂÆâË£ÖÊó∂ÂãæÈÄâ**"GPG (GnuPG) Command Line"** ‰ª•Á°Æ‰øù `gpg.exe` ÂèØÁî®„ÄÇ

##### **Linux/macOS**

- Linux
    ```bash
    sudo (ÂÆâË£ÖÂåÖÁÆ°ÁêÜÂô®) install gnupg
    ```
    Êää`(ÂÆâË£ÖÂåÖÁÆ°ÁêÜÂô®)`ÊõøÊç¢‰∏∫Á≥ªÁªüÁöÑÂÆâË£ÖÂåÖÁÆ°ÁêÜÂô®(Â¶ÇÔºåUbuntu/DebianÊõøÊç¢‰∏∫apt)
- MacOS
    ```shell
    brew install gnupg
    ```

### 1.ÂØºÂÖ•ÂÖ¨Èí•(‰Ωç‰∫éÈ°πÁõÆÊ†πÁõÆÂΩï‰∏ã)Ôºö

```bash
gpg --import ./signatures/PublicKey/GreedySnakeBattle_PublicKey.asc
```

### 2.È™åËØÅÁ≠æÂêçÔºö

- Âçï‰∏™Êñá‰ª∂È™åËØÅ(‰ª•README.mdÊñá‰ª∂‰∏∫‰æã)
    ```bash
    gpg --verify signatures/README.md.asc README.md
    ```
- ÊâπÈáèÈ™åËØÅ
    - Ê∫êÊñá‰ª∂È™åËØÅ(Unix-Like)
        ```bash
        find source/ -type f \( -name "*.c" -o -name "*.h" \) -exec sh -c 'gpg --verify signatures/$(basename {}).asc {}' \;
        ```
    - README.mdÊñáÊ°£È™åËØÅ
        ```bash
        gpg --verify signatures/README.md.asc README.md
        ```
    - LICENSE.txtËÆ∏ÂèØËØÅÊñáÊ°£È™åËØÅ
        ```bash
        gpg --verify signatures/LICENSE.txt.asc LICENSE.txt
        ```
- Á°ÆËÆ§ËæìÂá∫
    1. ÂåÖÂê´`Good signature from "Zhang Zhiyu (A C And Cpp Development Designer) <2585689367@qq.com>`Ë°®Á§∫Ê∫êÊñá‰ª∂ÂíåÁ≠æÂêçÊú™Ë¢´‰øÆÊîπ„ÄÇ
        ```txt
        gpg: Signature made 20XX-XX-XX XX:XX:XX +0800 CST
        gpg:                using RSA key CAD77FD957132D24B9B75D1AFFAB5EB03E8460D0
        gpg: Good signature from "Zhang Zhiyu (A C And Cpp Development Designer) <2585689367@qq.com>" [ultimate]
        ```
    
    2. ÂåÖÂê´`BAD signature from "Zhang Zhiyu (A C And Cpp Development Designer) <2585689367@qq.com>`Ë°®Á§∫**Ê∫êÊñá‰ª∂ÂíåÁ≠æÂêçË¢´ÁØ°Êîπ**„ÄÇ  
        **Ê≠§Êó∂‰∏çÂª∫ËÆÆÂÜç‰ΩøÁî®Ëøô‰∫õÊñá‰ª∂ÔºåÂõ†‰∏∫Ëøô‰∫õÊñá‰ª∂ÂèØËÉΩË¢´ÁØ°ÊîπËøáÔºåÂèØËÉΩÂ≠òÂú®Êú™Áü•È£éÈô©ÔºÅÔºÅÔºÅ**
        ```txt
        gpg: Signature made 20XX-XX-XX XX:XX:XX +0800 CST
        gpg:                using RSA key CAD77FD957132D24B9B75D1AFFAB5EB03E8460D0
        gpg: BAD signature from "Zhang Zhiyu (A C And Cpp Development Designer) <2585689367@qq.com>" [ultimate]
        ```

---
### Ëá™Âä®ÂåñÊ£ÄÊü•ËÑöÊú¨

#### Windows

Â∞Ü‰ª•‰∏ãËÑöÊú¨‰øùÂ≠ò‰∏∫ `verify_all.ps1`ÔºåÊîæÂú®È°πÁõÆÊ†πÁõÆÂΩïËøêË°åÔºö
```powershell
# ÂØºÂÖ•ÂÖ¨Èí•ÔºàÂ¶ÇÊûúÂ∞öÊú™ÂØºÂÖ•Ôºâ
$publicKey = ".\signatures\PublicKey\GreedySnakeBattle_PublicKey.asc"
gpg --import $publicKey

# È™åËØÅÊ∫êÁ†ÅÊñá‰ª∂
Get-ChildItem -Path .\source -Recurse -Include *.c, *.h | ForEach-Object {
    $sigFile = ".\signatures\" + $_.Name + ".asc"
    if (Test-Path $sigFile) {
        Write-Host "È™åËØÅÊñá‰ª∂: $($_.FullName)"
        gpg --verify $sigFile $_.FullName
        
        # ÈîôËØØÊ£ÄÊü•
        if ($LASTEXITCODE -ne 0) {
            Write-Host "ÈîôËØØ: $($_.FullName) È™åËØÅÂ§±Ë¥•ÔºÅ" -ForegroundColor Red
            exit 1
        }
    }
}

# È™åËØÅ README.md Âíå LICENSE.txt
gpg --verify .\signatures\README.md.asc .\README.md
gpg --verify .\signatures\LICENSE.txt.asc .\LICENSE.txt

Write-Host "È™åËØÅÂÆåÊàêÔºÅÊ£ÄÊü•ÊòØÂê¶Êúâ 'BAD signature' ËæìÂá∫„ÄÇ" -ForegroundColor Green
```

‰ª•ÁÆ°ÁêÜÂëòË∫´‰ªΩËøêË°åPowerShellÔºåÁÑ∂ÂêéÊâßË°åÔºö
```powershell
Set-ExecutionPolicy RemoteSigned -Scope Process  # ÂÖÅËÆ∏ËøêË°åËÑöÊú¨
```
```powershell
.\verify_all.ps1
```

#### Linux/macOS

##### **1. ËÑöÊú¨ÂÜÖÂÆπ**  

Â∞Ü‰ª•‰∏ã‰ª£Á†Å‰øùÂ≠ò‰∏∫ `verify_signatures.sh`ÔºåÂπ∂ÊîæÂú®È°πÁõÆÊ†πÁõÆÂΩïÔºö  
```bash
#!/bin/bash

# ------------------------------------------
# GreedySnakeBattle Á≠æÂêçÈ™åËØÅËÑöÊú¨ (Linux/macOS)
# ÂäüËÉΩÔºöËá™Âä®È™åËØÅÊâÄÊúâ .c/.h/README.md/LICENSE.txt ÁöÑ GPG Á≠æÂêç
# Áî®Ê≥ïÔºö./verify_signatures.sh
# ------------------------------------------

# Ê£ÄÊü•ÊòØÂê¶ÂÆâË£Ö‰∫Ü GPG
if ! command -v gpg &> /dev/null; then
    echo "‚ùå ÈîôËØØÔºöGPG Êú™ÂÆâË£ÖÔºÅËØ∑ÂÖàÂÆâË£ÖÔºö"
    echo "  - Debian/Ubuntu: sudo apt install gnupg"
    echo "  - macOS: brew install gnupg"
    exit 1
fi

# ÂÆö‰πâÁ≠æÂêçÁõÆÂΩïÂíåÂÖ¨Èí•Ë∑ØÂæÑ
SIGNATURES_DIR="./signatures"
PUBLIC_KEY="$SIGNATURES_DIR/PublicKey/GreedySnakeBattle_PublicKey.asc"

# Ê£ÄÊü•Á≠æÂêçÁõÆÂΩïÊòØÂê¶Â≠òÂú®
if [ ! -d "$SIGNATURES_DIR" ]; then
    echo "‚ùå ÈîôËØØÔºöÁ≠æÂêçÁõÆÂΩï $SIGNATURES_DIR ‰∏çÂ≠òÂú®ÔºÅ"
    exit 1
fi

# Ê£ÄÊü•ÂÖ¨Èí•ÊòØÂê¶Â≠òÂú®
if [ ! -f "$PUBLIC_KEY" ]; then
    echo "‚ùå ÈîôËØØÔºöÂÖ¨Èí•Êñá‰ª∂ $PUBLIC_KEY Êú™ÊâæÂà∞ÔºÅ"
    exit 1
fi

# ÂØºÂÖ•ÂÖ¨Èí•
echo "üîë ÂØºÂÖ•ÂÖ¨Èí•..."
gpg --import "$PUBLIC_KEY" 2> /dev/null
if [ $? -ne 0 ]; then
    echo "‚ùå ÈîôËØØÔºöÂÖ¨Èí•ÂØºÂÖ•Â§±Ë¥•ÔºÅ"
    exit 1
fi

# È™åËØÅÊâÄÊúâÊ∫êÁ†ÅÊñá‰ª∂Ôºà.c Âíå .hÔºâ
echo "üîç ÂºÄÂßãÈ™åËØÅÊ∫êÁ†ÅÊñá‰ª∂..."
FAILED=0
for file in $(find ./source -type f \( -name "*.c" -o -name "*.h" \)); do
    sig_file="$SIGNATURES_DIR/$(basename $file).asc"
    if [ -f "$sig_file" ]; then
        echo "üìÑ È™åËØÅ: $file"
        gpg --verify "$sig_file" "$file" 2> /dev/null
        if [ $? -ne 0 ]; then
            echo "‚ùå È™åËØÅÂ§±Ë¥•: $file"
            FAILED=1
        fi
    else
        echo "‚ö†Ô∏è Ë≠¶Âëä: Êú™ÊâæÂà∞Á≠æÂêçÊñá‰ª∂: $sig_file"
    fi
done

# È™åËØÅ README.md Âíå LICENSE.txt
echo "üìú È™åËØÅÊñáÊ°£Êñá‰ª∂..."
for file in "README.md" "LICENSE.txt"; do
    sig_file="$SIGNATURES_DIR/$file.asc"
    if [ -f "$sig_file" ]; then
        echo "üìÑ È™åËØÅ: $file"
        gpg --verify "$sig_file" "$file" 2> /dev/null
        if [ $? -ne 0 ]; then
            echo "‚ùå È™åËØÅÂ§±Ë¥•: $file"
            FAILED=1
        fi
    else
        echo "‚ö†Ô∏è Ë≠¶Âëä: Êú™ÊâæÂà∞Á≠æÂêçÊñá‰ª∂: $sig_file"
    fi
done

# ÊúÄÁªàÁªìÊûú
if [ $FAILED -eq 0 ]; then
    echo "‚úÖ ÊâÄÊúâÊñá‰ª∂È™åËØÅÈÄöËøáÔºÅ"
else
    echo "‚ùå ÈÉ®ÂàÜÊñá‰ª∂È™åËØÅÂ§±Ë¥•ÔºåËØ∑Ê£ÄÊü•Êó•ÂøóÔºÅ"
    exit 1
fi
```

##### **2. ‰ΩøÁî®ÊñπÊ≥ï**

1. **Ëµã‰∫àËÑöÊú¨ÊâßË°åÊùÉÈôê**Ôºö  
   ```bash
   chmod +x verify_signatures.sh
   ```

2. **ËøêË°åËÑöÊú¨**Ôºö  
   ```bash
   ./verify_signatures.sh
   ```

3. **È¢ÑÊúüËæìÂá∫**Ôºö  
   - Â¶ÇÊûúÊâÄÊúâÊñá‰ª∂È™åËØÅÈÄöËøáÔºö  
     ```txt
     ‚úÖ ÊâÄÊúâÊñá‰ª∂È™åËØÅÈÄöËøáÔºÅ
     ```
   - Â¶ÇÊûúÊüê‰∫õÊñá‰ª∂È™åËØÅÂ§±Ë¥•Ôºö  
     ```txt
     ‚ùå È™åËØÅÂ§±Ë¥•: ./source/main.c
     ‚ùå ÈÉ®ÂàÜÊñá‰ª∂È™åËØÅÂ§±Ë¥•ÔºåËØ∑Ê£ÄÊü•Êó•ÂøóÔºÅ
     ```

##### **3. ËÑöÊú¨ÁâπÁÇπ**

‚úÖ **Ë∑®Âπ≥Âè∞ÂÖºÂÆπ**ÔºöÊîØÊåÅ **Linux** Âíå **macOS**ÔºàÈúÄÂÆâË£Ö `gnupg`Ôºâ„ÄÇ  
‚úÖ **Ëá™Âä®Ê£ÄÊü•‰æùËµñ**ÔºöÂ¶ÇÊûúÊú™ÂÆâË£Ö GPGÔºå‰ºöÊèêÁ§∫Áî®Êà∑ÂÆâË£Ö„ÄÇ  
‚úÖ **ÊâπÈáèÈ™åËØÅ**ÔºöËá™Âä®ÈÅçÂéÜ `./source/` ‰∏ãÁöÑÊâÄÊúâ `.c` Âíå `.h` Êñá‰ª∂„ÄÇ  
‚úÖ **ÈîôËØØÂ§ÑÁêÜ**Ôºö  
   - Â¶ÇÊûúÁ≠æÂêçÊñá‰ª∂Áº∫Â§±Ôºå‰ºöÊèêÁ§∫Ë≠¶ÂëäÔºà`‚ö†Ô∏è`Ôºâ„ÄÇ  
   - Â¶ÇÊûúÁ≠æÂêç‰∏çÂåπÈÖçÔºå‰ºöÊ†áËÆ∞Â§±Ë¥•Ôºà`‚ùå`ÔºâÂπ∂ÈÄÄÂá∫„ÄÇ  

---
## Ê∏∏ÊàèÁâπÁÇπ

- ÁªèÂÖ∏Ë¥™ÂêÉËõáÊ∏∏ÊàèÁé©Ê≥ï
- ÊîØÊåÅËá™ÂÆö‰πâÊ∏∏ÊàèËÆæÁΩÆ
- Ë∑®Âπ≥Âè∞ÊîØÊåÅÔºàWindows/Linux/macOS/Termux
- Êèê‰æõÈòªÂ°ûÂíåÈùûÈòªÂ°û‰∏§ÁßçËøêË°åÊ®°Âºè
- ÂÆåÂñÑÁöÑAPIÊé•Âè£
- ËØ¶ÁªÜÁöÑÊñáÊ°£ÊîØÊåÅ

## Ê∏∏ÊàèÊéßÂà∂

![Ê∏∏ÊàèÂØπÂ±Ä‰∏≠](./picture/game_running.jpg)  
| ÊåâÈîÆ | ÂäüËÉΩ |
| :--: | :--: |
| W | Âêë‰∏äÁßªÂä® |
| A | ÂêëÂ∑¶ÁßªÂä® |
| S | Âêë‰∏ãÁßªÂä® |
| D | ÂêëÂè≥ÁßªÂä® |
| E | Á´ãÂç≥ÈÄÄÂá∫Ê∏∏Êàè |
| O | ÈÄÄÂá∫ÂΩìÂâçÂØπÂ±Ä |

## Ê∏∏ÊàèÂÖÉÁ¥†

![Ê∏∏Êàè‰ªãÁªç](./picture/introduction.jpg)
| Á¨¶Âè∑ | ‰ª£Ë°®ÂÖÉÁ¥† |
|------|----------|
| @ | ËõáÂ§¥ |
| * | ËõáË∫´ |
| # | È£üÁâ© |
| + | Â¢ô |
| $ | ËÉúÂà©ÁÇπ |

## Ê∏∏ÊàèÊµÅÁ®ã

- 1. **ÂÆ¢Êà∑Á´ØËµÑÊ∫êÂä†ËΩΩ**ÔºàÂ¶ÇÊûúËá™Ë°å‰øÆÊîπÊ∫ê‰ª£Á†ÅÂêéÁºñËØëÔºåÂèØÈÄâÊã©ÊòØÂê¶‰øùÁïô  
   ![ÂÆ¢Êà∑Á´ØËµÑÊ∫êÂä†ËΩΩÁïåÈù¢](./picture/client_resource_loading.jpg)  
- 2. **È¶ñÊ¨°ÁôªÂΩïÂä†ËΩΩÁïåÈù¢**Ôºà‰ªÖÁ¨¨‰∏ÄÊ¨°ËøêË°åÊ∏∏ÊàèÊó∂ÊòæÁ§∫ÔºåÂ¶ÇÊûúËá™Ë°å‰øÆÊîπÊ∫ê‰ª£Á†ÅÂêéÁºñËØëÔºåÂèØÈÄâÊã©ÊòØÂê¶‰øùÁïô  
   ![È¶ñÊ¨°Âä†ËΩΩÁïåÈù¢](./picture/first_login_loading.jpg)  

- 3. **‰∏ªËèúÂçïÁïåÈù¢**

   ![‰∏ªËèúÂçïÁïåÈù¢](./picture/menu.jpg)

   | ÈÄâÈ°π | ÂäüËÉΩ |
   | :--: | :--: |
   | 1 | ÂºÄÂßãÊ∏∏Êàè |
   | 2 | Ê∏∏ÊàèËØ¥Êòé |
   | 3 | Ê∏∏ÊàèËÆæÁΩÆ |
   | 4 | ÈÄÄÂá∫Ê∏∏Êàè |

- 4. **Ê∏∏ÊàèËÆæÁΩÆÁïåÈù¢**

   ![ËÆæÁΩÆÁïåÈù¢](./picture/set_game.jpg)

   ÂèØÈÖçÁΩÆÈÄâÈ°πÂåÖÊã¨Ôºö
   - ËõáÂêÉÂà∞Ëá™Â∑±ÊòØÂê¶ÈÄÄÂá∫
   - ËõáÁßªÂä®ÈÄüÂ∫¶
   - ËÉúÂà©ÁÇπÊâÄÈúÄÁßØÂàÜ
   - È£üÁâ©Êï∞Èáè
   - Âõ¥Â¢ôÊï∞Èáè
   - ÊòØÂê¶ÂºÄÂêØÁ≥ªÁªüÂ∞èËõá
   - Ê∏∏ÊàèÁïåÈù¢Â§ßÂ∞è
   - Ê∏∏ÊàèËÉåÊôØÈ¢úËâ≤
   - ÂÖ®ÈÉ®ËÆæÁΩÆÈªòËÆ§Á≠â

- 5. **Ê∏∏ÊàèËøêË°åÁïåÈù¢**

   ![Ê∏∏ÊàèËøêË°åÁïåÈù¢](./picture/game_running.jpg)

- 6. **Ê∏∏ÊàèÁªìÊùü**ÔºàËÉúÂà©ÊàñÂ§±Ë¥•Ôºâ

---
## Á¶ªÁ∫øÊ®°Âºè

ÂΩìÈÖçÁΩÆÊñá‰ª∂Êó†Ê≥ïÊâìÂºÄÊó∂ÔºåÊ∏∏Êàè‰ºöËá™Âä®ËøõÂÖ•Á¶ªÁ∫øÊ®°ÂºèÔºö

- **ÁâπÁÇπ**Ôºö
    - ‰∏çÂÜçËØªÂèñÈÖçÁΩÆÊñá‰ª∂
    - ‰ΩøÁî®ÂÜÖÁΩÆÈªòËÆ§ÈÖçÁΩÆËøêË°åÊ∏∏Êàè
    - ËÆæÁΩÆÊõ¥Êîπ‰∏ç‰ºöË¢´‰øùÂ≠ò
    - Ê∏∏ÊàèÁªìÊùüÂêéÈÖçÁΩÆÊÅ¢Â§çÈªòËÆ§

- **Ê≥®ÊÑè‰∫ãÈ°π**Ôºö
    - Á¶ªÁ∫øÊ®°Âºè‰∏ãÂèØ‰ª•Ë∞ÉÊï¥Ê∏∏ÊàèËÆæÁΩÆÔºå‰ΩÜ‰∏ç‰ºö‰øùÂ≠ò
    - ‰∏çÂª∫ËÆÆÂú®Á¶ªÁ∫øÊ®°Âºè‰∏ãÊõ¥ÊîπÊ∏∏ÊàèËÆæÁΩÆ
    - Á¶ªÁ∫øÊ®°Âºè‰∏ÄÊó¶ÂºÄÂêØÔºåÂú®Ê∏∏ÊàèÁªìÊùüÂâçÊó†Ê≥ïÂÖ≥Èó≠

---
## Ê∏∏ÊàèÊé•Âè£

> Ëã•ÊÇ®‰∏çÊòØ*ÂºÄÂèë‰∫∫Âëò*Êàñ*Êó†Êü•ÁúãÊ∏∏ÊàèÊé•Âè£ÁöÑÈúÄË¶Å*ÔºåÂàôÊó†ÈúÄÈòÖËØª‰ª•‰∏ãÂÜÖÂÆπ„ÄÇ

Ê∏∏ÊàèÊèê‰æõÊ†áÂáÜÂåñÁöÑÂ§ñÈÉ®Êé•Âè£`GreedySnakeBattleGameExternalInterface`ÂáΩÊï∞ÔºåÂÆö‰πâÂú® [GreedySnakeBattleGameExternalInterface.h](./source/Include/GreedySnakeBattleGameExternalInterface.h) ‰∏≠„ÄÇ

### ËøûÊé•ÈÄâÈ°π

| Á±ªÂûã | Â∫ìÂêçÁß∞ | ËøûÊé•Êåá‰ª§ |
| :--: | :----: | :------: |
| ÈùôÊÄÅÂ∫ì | libgsnakebg.a | `gcc ... -lgsnakebg` |
| Âä®ÊÄÅÂ∫ì | libgsnakebg.so | `gcc ... -lgsnakebg` |

### ÂáΩÊï∞ÂéüÂûã

```c
#include <GreedySnakeBattleGameExternalInterface.h>

    int GreedySnakeBattleGameExternalInterface(int isBlockRunning);
```

### ÂèÇÊï∞

`isBlockRunning`: Ë¥™ÂêÉËõáÂ§ß‰ΩúÊàòÊ∏∏ÊàèËøêË°åÊòØÂê¶ÈòªÂ°ûË∞ÉÁî®ËØ•ÂáΩÊï∞ÁöÑËøõÁ®ã„ÄÇ 
    | ÂÆè(ÂÆû‰∏∫ÂÖ®Â±ÄÂ∏∏Èáè) | Ë°å‰∏∫ |
    | :----: | :-----: |
    | SNAKE_BLOCK | ÈòªÂ°ûËøêË°å |
    | SNAKE_UNBLOCK | ÈùûÈòªÂ°ûËøêË°å |

### ËøîÂõûÂÄº

| ËøîÂõûÂÄº | ÊèèËø∞ |
| :----: | :--: |
| -2 | ÂèÇÊï∞ÈîôËØØ |
| -1 | Á≥ªÁªüË∞ÉÁî®Â§±Ë¥• |
| 0 | ÈòªÂ°ûÊ®°Âºè‰∏ãÊ∏∏ÊàèÁªìÊùü |
| 1 | ÈùûÈòªÂ°ûÊ®°Âºè‰∏ãÊ∏∏ÊàèÂêØÂä®ÊàêÂäü |

### ‰ΩøÁî®Á§∫‰æã

```c
#include "GreedySnakeBattleGameExternalInterface.h"

int main() {
    int ret = GreedySnakeBattleGameExternalInterface(SNAKE_BLOCK);
    
    switch (ret) {
        case -2:
            printf("ÂèÇÊï∞ÈîôËØØ!\n");
            break;
        case -1:
            printf("Ê∏∏ÊàèÂêØÂä®Â§±Ë¥•!\n");
            break;
        case 0:
            printf("Ê∏∏ÊàèÁªìÊùü.\n");
            break;
        case 1:
            printf("Ê∏∏ÊàèÂ∑≤Âú®ÂêéÂè∞ËøêË°å.\n");
            break;
    }
    
    return 0;
}
```

### ‰ª£Á†ÅÊ†áÂáÜ

| È°πÁõÆ | Ê†áÂáÜ |
| :--: | :--: |
| ÁºñÁ®ãËØ≠Ë®Ä | CÁ®ãÂ∫èËØ≠Ë®Ä - C99(ISO/IEC 9899:1999) |
| Unix-likeÁ≥ªÁªü | POSIX.1-2008(Portable Operating System Interface of UNIX) |
| WindowsÁ≥ªÁªü | Win32 API(Windows Application Programming Interface) |

---
## ÊûÑÂª∫‰∏éÂÆâË£Ö

### ÊûÑÂª∫Ë¶ÅÊ±Ç

- CMake 3.10+
- CÁºñËØëÂô® (GCC/Clang/MSVC)
- Doxygen (Áî®‰∫éÊñáÊ°£ÁîüÊàê)(Ëã•Ê≤°Êúâ‰πüÂèØ‰ª•)

### ÊûÑÂª∫Ê≠•È™§

- 1. ÂàõÂª∫Âπ∂ËøõÂÖ•buildÁõÆÂΩï(‰øùÊåÅÈ°πÁõÆÊ†πÁõÆÂΩïÂπ≤ÂáÄ)
```bash
mkdir build # ÂàõÂª∫buildÁõÆÂΩï
```
```bash
cd build    # ËøõÂÖ•buildÁõÆÂΩï
```

- 2. ÊâßË°åCMake
```bash
cmake ..    # ÊâßË°åCMake
```

- 3. ÊâßË°åMake
    - 1. ÊâßË°åMakeÁºñËØëÊ∫êÊñá‰ª∂  
         ```bash
         make                        # ÊâßË°åMakeÁºñËØëÊ∫êÊñá‰ª∂
         ```
         ÁîüÊàêGreedySnakeBattle(.exe)ÂèØÊâßË°åÊñá‰ª∂Ôºålibgsnakebg.soÂä®ÊÄÅÂ∫ìÂíålibgsnakebg.aÈùôÊÄÅÂ∫ì„ÄÇ
    
    - 2. ÊâßË°åMakeÁîüÊàêAPIÊñáÊ°£
         - 1. ÊúâDoxygenÂëΩ‰ª§Á®ãÂ∫è
              ```bash
              make API_documents     # ÁîüÊàêAPIÊñáÊ°£
              ```
         - 2. Êó†DoxygenÂëΩ‰ª§Á®ãÂ∫è
              ```bash
              mv ../pre_generated_API_documents ../API_documents # Â∞Ü ../pre_generated_API_documents ÈáçÂëΩÂêç‰∏∫ ../API_documents
              ```

    - 3. ÊâßË°åMakeËøõË°åÂÆâË£Ö
         ```bash
         sudo make install           # ÂÆâË£Ö(ÈúÄË¶ÅÁÆ°ÁêÜÂëòÊùÉÈôê)(TermuxÊó†ÈúÄÁÆ°ÁêÜÂëòÊùÉÈôê)
         ```

### ÂÆâË£ÖÂÜÖÂÆπ

1. **ÂèØÊâßË°åÊñá‰ª∂**Ôºö`GreedySnakeBattle` (Windows‰∏ã‰∏∫ `GreedySnakeBattle.exe`)
2. **Â∫ìÊñá‰ª∂**Ôºö
   - ÈùôÊÄÅÂ∫ìÔºö`libgsnakebg.a`
   - Âä®ÊÄÅÂ∫ìÔºö`libgsnakebg.so` (Windows‰∏ã‰∏∫ `libgsnakebg.dll`)
3. **Â§¥Êñá‰ª∂**Ôºö`Include/` ÁõÆÂΩï‰∏ãÁöÑÊâÄÊúâÂ§¥Êñá‰ª∂
4. **APIÊñáÊ°£**ÔºöHTMLÊ†ºÂºèÁöÑAPIÊñáÊ°£

---
## Ë∑®Âπ≥Âè∞ÊîØÊåÅ

Ê∏∏ÊàèÊîØÊåÅ‰ª•‰∏ãÂπ≥Âè∞Ôºö

1. **Windows**:
    - Ëá™Âä®ÂàõÂª∫Ê°åÈù¢Âø´Êç∑ÊñπÂºè
    - ËÆæÁΩÆÂ∫îÁî®ÂõæÊ†á
    - ‰ΩøÁî®Win32 APIÂÆûÁé∞ÁªàÁ´ØÊéßÂà∂

2. **Linux**:
    - Ê†áÂáÜUnixÂÆâË£ÖË∑ØÂæÑ
    - ÂàõÂª∫.desktopÊ°åÈù¢Âø´Êç∑ÊñπÂºè
    - ‰ΩøÁî®termiosÂÆûÁé∞ÁªàÁ´ØÊéßÂà∂

3. **Termux (Android)**:
    - ÁâπÊÆäÂÆâË£ÖË∑ØÂæÑÈÄÇÈÖç
    - ÈíàÂØπÁßªÂä®ÁªàÁ´Ø‰ºòÂåñ

4. **macOS**:
    - UnixÊ†áÂáÜÂÆâË£ÖË∑ØÂæÑ
    - ‰ΩøÁî®termiosÂÆûÁé∞ÁªàÁ´ØÊéßÂà∂

---
## Â∑≤Áü•ÈóÆÈ¢ò

1. **ÊÄßËÉΩÈóÆÈ¢ò**Ôºö
    - ÂΩìËõáË∫´Ë∂≥Â§üÂ§ßÊó∂ÔºåÊ∏∏ÊàèÂèØËÉΩ‰ºöÂá∫Áé∞Âç°È°øÁé∞Ë±°

2. **ÂäüËÉΩÈôêÂà∂**Ôºö
    - ÈöúÁ¢çËõáÊó†Ê≥ïËá™Âä®ÈÅøÂºÄÁî®Êà∑ËõáÂíåÂ¢ôÂ£Å
    - ÂΩìÁî®Êà∑ËõáÂêÉÂà∞ÈöúÁ¢çËõáË∫´‰ΩìÊó∂ÔºåÈÄªËæëÂ§ÑÁêÜ‰∏çÂ§üÁ≤æÁ°Æ

ËØ¶ÁªÜÈóÆÈ¢òÂàóË°®ËßÅ [GreedySnakeBattleGameExternalInterface.c](./source/GreedySnakeBattleGameExternalInterface.c) ‰∏≠ÁöÑBUGsÈÉ®ÂàÜ

## Êú™Êù•ËÆ°Âàí

1. **Êñ∞ÂäüËÉΩ**Ôºö
    - ËÆæÁΩÆ‰º†ÈÄÅÈó®
    - Êó†ÈôêÈ£üÁâ©Ê®°Âºè

2. **ÊîπËøõ**Ôºö
    - ‰ºòÂåñÈöúÁ¢çËõáAI
    - ÊîπËøõËõáË∫´ÁªòÂà∂ÈÄªËæë

ËØ¶ÁªÜËÆ°ÂàíËßÅ [GreedySnakeBattleGameExternalInterface.c](./source/GreedySnakeBattleGameExternalInterface.c) ‰∏≠ÁöÑTODOsÈÉ®ÂàÜ

## ‰ª£Á†ÅÈ£éÊ†ºÊÄªÁªì‰∏éË¥°ÁåÆÊåáÂçó

Âü∫‰∫éËØ•È°πÁõÆÔºåÊÄªÁªì‰∫Ü‰ª•‰∏ã**Ê≥®ÈáäÈ£éÊ†º**„ÄÅ**ÂëΩÂêçËßÑÂàô**Âíå**‰ª£Á†ÅÈ£éÊ†º**Ôºå‰æõË¥°ÁåÆËÄÖÂèÇËÄÉ„ÄÇ  

### **1. Ê≥®ÈáäÈ£éÊ†ºÔºàJavadoc È£éÊ†ºÔºâ**  
‰ª£Á†Å‰∏ªË¶Å‰ΩøÁî®**Doxygen/JavadocÈ£éÊ†ºÁöÑÊ≥®Èáä**ÔºåÈÄÇÁî®‰∫éÁîüÊàêAPIÊñáÊ°£„ÄÇ  

#### **ËßÑÂàô**Ôºö

‚úÖ **Êñá‰ª∂Ê≥®Èáä**ÔºàÊñá‰ª∂ÂºÄÂ§¥ÔºâÔºö  
```c
/**
 * @file GreedySnakeBattleGameExternalInterface.c
 * @brief ËØ•Êñá‰ª∂ÂÆûÁé∞‰∫Ü @ref GreedySnakeBattleGameExternalInterface ÂäüËÉΩ
 * @author Zhang Zhiyu
 */
```

‚úÖ **ÂáΩÊï∞Ê≥®Èáä**ÔºàËØ¶ÁªÜËØ¥ÊòéÂáΩÊï∞‰ΩúÁî®„ÄÅÂèÇÊï∞„ÄÅËøîÂõûÂÄºÔºâÔºö  
```c
/**
 * @brief ÂàùÂßãÂåñÁªàÁ´ØËÆæÁΩÆ
 * @ingroup OSAdapt
 * 
 * ‰øùÂ≠òÂéüÂßãÁªàÁ´ØÊ®°ÂºèÂπ∂ÂêØÁî® ANSI ËΩ¨‰πâÁ†ÅÊîØÊåÅ„ÄÇ
 */
static void _windows_init_console() {
    // ...
}
```

‚úÖ **ÁªìÊûÑ‰Ωì/Êûö‰∏æÊ≥®Èáä**Ôºö  
```c
/**
 * @struct GameAllRunningData
 * @brief Â≠òÂÇ®Ê∏∏ÊàèËøêË°åÊó∂ÁöÑÊâÄÊúâÊï∞ÊçÆ
 */
typedef struct {
    int score;  /**< ÂΩìÂâçÂàÜÊï∞ */
    // ...
} GameAllRunningData;
```

‚ùå **ÈÅøÂÖç**Ôºö
- ÂçïË°åÊ≥®Èáä `//` ‰ªÖÁî®‰∫é‰∏¥Êó∂Ë∞ÉËØïÔºåÊ≠£Âºè‰ª£Á†ÅÂ∫î‰ΩøÁî® `/** */` Êàñ `/* */`„ÄÇ  
- Êó†ÊÑè‰πâÁöÑÊ≥®ÈáäÔºåÂ¶Ç `// ËøôÊòØ‰∏Ä‰∏™ÂèòÈáè`„ÄÇ  

#### **Ë¥°ÁåÆËÄÖÊ≥®ÊÑè‰∫ãÈ°π**Ôºö
- **Êñ∞Â¢ûÂáΩÊï∞/Êñá‰ª∂** ÂøÖÈ°ªÂåÖÂê´ÂÆåÊï¥ÁöÑDoxygenÊ≥®Èáä„ÄÇ  
- **‰øÆÊîπÂáΩÊï∞** Êó∂ÔºåÊõ¥Êñ∞ÂØπÂ∫îÁöÑ`@brief`Âíå`@param`Á≠âËØ¥Êòé„ÄÇ  
- **ÂÖ≥ÈîÆÈÄªËæë** Â∫îË°•ÂÖÖ`@note`Êàñ`@attention`ËØ¥ÊòéÁâπÊÆäÊÉÖÂÜµ„ÄÇ  

---
### **2.ÂëΩÂêçËßÑÂàôÔºàQtÈ£éÊ†ºÔºâ**

ÈááÁî®**Á±ª‰ºº Qt ÁöÑÂëΩÂêçÈ£éÊ†º**Ôºå‰ΩÜÁï•ÊúâË∞ÉÊï¥Ôºö  

#### **ËßÑÂàô**Ôºö
| Á±ªÂûã | ÂëΩÂêçÈ£éÊ†º | Á§∫‰æã |
| :--: | :------: | :--: |
| **ÂáΩÊï∞** | Èô§ÊûÑÈÄ†ÂèäÊûêÊûÑÂáΩÊï∞„ÄÅÁî®‰∫éÈÄÇÈÖç‰∏çÂêåÊìç‰ΩúÁ≥ªÁªü(ËõáÂΩ¢ÂëΩÂêçÊ≥ï:`_snake_case`)ÂíåÁâπÂà´Ë¶ÅÊ±ÇÁöÑÂáΩÊï∞ÁªÑ(ËõáÂΩ¢ÂëΩÂêçÊ≥ï+Â∞èÈ©ºÂ≥∞ÂëΩÂêçÊ≥ï_`lowerCamelCase_snake_case`Â§ñÔºåÂÖ∂‰ªñÂáΩÊï∞ÈÉΩÈááÁî®Â∞èÈ©ºÂ≥∞ÂëΩÂêçÊ≥ïÔºö`lowerCamelCase` | `init_terminal_settings()`Ôºå`setConfig_isEnableObs`Ôºå`foodInit` |
| **ÂèòÈáè** | `lowerCamelCase` | `gameScore` |
| **ÁªìÊûÑ‰Ωì** | ÁªìÊûÑ‰ΩìÂêç: `UpperCamelCase`ÔºåÊàêÂëòÂèòÈáè: `lowerCamelCase` | `GameConfig`Ôºå`isEnableObs` |
| **ÂÆè/Êûö‰∏æ/ÂÖ®Â±ÄÂ∏∏Èáè** | `UPPER_CASE` | `SNAKE_BLOCK`, `ENABLE_ECHO_INPUT` |
| **ÂÖ®Â±ÄÂèòÈáè** | `lowerCamelCase` | `isConfigFileOpenFail` |
| **Á±ªÂûãÂÆö‰πâ** | `PascalCase` + `_t`ÔºàÂèØÈÄâÔºâ | `GameAllRunningData`, `muint_t` |

#### **Ë¥°ÁåÆËÄÖÊ≥®ÊÑè‰∫ãÈ°π**Ôºö
- **Êñ∞ÂèòÈáè/ÂáΩÊï∞/...** ÈááÁî®‰∏äËø∞ÂëΩÂêçÊñπÂºè„ÄÇ
- **ÈÅøÂÖç**‰ΩøÁî®`ÂåàÁâôÂà©ÂëΩÂêçÊ≥ï`ÔºàÂ¶Ç`bIsRunning`, `iCount`Ôºâ„ÄÇ  
- **ÂÆèÂÆö‰πâ**ÂøÖÈ°ªÂÖ®ÈÉ®Â§ßÂÜôÔºåÂ¶Ç `#define MAX_SNAKE_LENGTH 100`„ÄÇ  

---
### **3. ‰ª£Á†ÅÈ£éÊ†ºÔºàQtÈ£éÊ†ºÔºâ**  
‰ª£Á†ÅÈ£éÊ†ºÊé•Ëøë**Qt/C++**Ôºå‰ΩÜÈÄÇÂ∫î‰∫Ü C ËØ≠Ë®ÄÁöÑÈôêÂà∂„ÄÇ  

#### **ËßÑÂàô**Ôºö
‚úÖ **Áº©Ëøõ**Ôºö
- **4 Á©∫Ê†ºÁº©Ëøõ**ÔºàÈùûTabÔºâ„ÄÇ  
- ÂáΩÊï∞‰Ωì„ÄÅ`if/for/while` ÂùóÂøÖÈ°ªÁº©Ëøõ„ÄÇ  

‚úÖ **Â§ßÊã¨Âè∑`{}`**Ôºö
- **K&R È£éÊ†º**ÔºàÂ∑¶Â§ßÊã¨Âè∑‰∏çÊç¢Ë°åÔºâÔºö  
```c
if (condition) {
    // code
}
```

‚úÖ **Á©∫Ê†º**Ôºö
- ËøêÁÆóÁ¨¶‰∏§‰æßÂä†Á©∫Ê†ºÔºö  
```c
int sum = a + b;
if (score > 100) { ... }
```
- ÂáΩÊï∞ÂèÇÊï∞ÈÄóÂè∑ÂêéÂä†Á©∫Ê†ºÔºö  
```c
void foo(int a, int b, int c);
```

‚úÖ **ÊåáÈíà `*` Èù†ËøëÂèòÈáèÂêç**Ôºö  
```c
GameAllRunningData *data = malloc(sizeof(GameAllRunningData));
```

‚ùå **ÈÅøÂÖç**Ôºö
- ‰∏ÄË°åÂ§öËØ≠Âè•ÔºåÂ¶Ç `a=1; b=2;`„ÄÇ  
- ËøáÈïøÁöÑË°åÔºàÂª∫ËÆÆ 80~120 Â≠óÁ¨¶Êç¢Ë°åÔºâ„ÄÇ  

#### **Ë¥°ÁåÆËÄÖÊ≥®ÊÑè‰∫ãÈ°π**Ôºö
- **Êñ∞Â¢û‰ª£Á†Å** ÂøÖÈ°ªÈÅµÂæ™Áé∞ÊúâÁº©ËøõÂíåÊã¨Âè∑È£éÊ†º„ÄÇ  
- **‰øÆÊîπ‰ª£Á†Å** Êó∂‰øùÊåÅÈ£éÊ†º‰∏ÄËá¥Ôºå‰∏çË¶ÅÊ∑∑Áî® `if (x){` Âíå `if (x) {`„ÄÇ  
- **Â§çÊùÇÈÄªËæë** Â∫îÊãÜÂàÜÊàêÂ∞èÂáΩÊï∞ÔºåÈÅøÂÖçË∂ÖÈïøÂáΩÊï∞„ÄÇ  

---
### **ÊÄªÁªìÔºöË¥°ÁåÆËÄÖÂ∫îÈÅµÂæ™ÁöÑËßÑÂàô**  
| È°πÁõÆ | ËßÑÂàô |
| :--: | :--: |
| **Ê≥®Èáä** | Doxygen&JavadocÈ£éÊ†ºÔºåÂáΩÊï∞„ÄÅÊñá‰ª∂„ÄÅÂÖ≥ÈîÆÂèòÈáèÂøÖÈ°ªÊ≥®Èáä |
| **ÂëΩÂêç** | Â¶Ç‰∏ä |
| **‰ª£Á†ÅÈ£éÊ†º** | 4Á©∫Ê†ºÁº©ËøõÔºåK&RÂ§ßÊã¨Âè∑ÔºåÊåáÈíà`*`Èù†ËøëÂèòÈáè |

### **Â¶Ç‰ΩïÊ£ÄÊü•Ôºü**  
1. **Clang-Format**ÔºàÂèØÈÖçÁΩÆ `.clang-format` Êñá‰ª∂Ôºâ„ÄÇ  
2. **Doxygen**ÁîüÊàêÊñáÊ°£ÔºåÊ£ÄÊü•Ê≥®ÈáäÂÆåÊï¥ÊÄß„ÄÇ  
3. **‰ª£Á†ÅÂÆ°Êü•**Êó∂‰∫∫Â∑•Ê†∏ÂØπÂëΩÂêçÂíåÈ£éÊ†º„ÄÇ  

Â∏åÊúõË¥°ÁåÆËÄÖËÉΩ‰øùÊåÅ‰ª£Á†ÅÈ£éÊ†ºÁªü‰∏ÄÔºåÊèêÈ´òÂèØÁª¥Êä§ÊÄßÔºÅ üöÄ
